DirectoryIndex index.html

Options -indexes

Options +FollowSymLinks

# ============================================
# PERFORMANCE OPTIMIZATION
# ============================================

# Enable GZIP Compression
<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css text/javascript application/javascript application/x-javascript application/json
    BrowserMatch ^Mozilla/4 gzip-only-text/html
    BrowserMatch ^Mozilla/4\.0[678] no-gzip
    BrowserMatch \bMSIE !no-gzip !gzip-only-text/html
    Header append Vary User-Agent
</IfModule>

# Browser Caching
<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresByType image/jpg "access plus 1 year"
    ExpiresByType image/jpeg "access plus 1 year"
    ExpiresByType image/gif "access plus 1 year"
    ExpiresByType image/png "access plus 1 year"
    ExpiresByType image/webp "access plus 1 year"
    ExpiresByType image/svg+xml "access plus 1 year"
    ExpiresByType image/x-icon "access plus 1 year"
    ExpiresByType text/css "access plus 1 month"
    ExpiresByType application/javascript "access plus 1 month"
    ExpiresByType application/x-javascript "access plus 1 month"
    ExpiresByType application/pdf "access plus 1 month"
    ExpiresByType text/html "access plus 1 hour"
</IfModule>

# Cache Control Headers
<IfModule mod_headers.c>
    <FilesMatch "\.(jpg|jpeg|png|gif|ico|svg|webp)$">
        Header set Cache-Control "public, max-age=31536000, immutable"
    </FilesMatch>
    <FilesMatch "\.(css|js)$">
        Header set Cache-Control "public, max-age=2592000"
    </FilesMatch>
    <FilesMatch "\.(html|htm)$">
        Header set Cache-Control "public, max-age=3600"
    </FilesMatch>
</IfModule>

# Security Headers
<IfModule mod_headers.c>
    Header set X-Content-Type-Options "nosniff"
    Header set X-Frame-Options "SAMEORIGIN"
    Header set X-XSS-Protection "1; mode=block"
    Header set Referrer-Policy "strict-origin-when-cross-origin"
</IfModule>

RewriteEngine on

# ============================================
# CLEAN URL REWRITES
# ============================================

# Clean URL rewrites for existing pages
RewriteRule ^index$ index.html [L]
RewriteRule ^home$ index.html [L]
RewriteRule ^about$ about.html [L]
RewriteRule ^contact$ contact.html [L]
RewriteRule ^konsultasi$ konsultasi.html [L]
RewriteRule ^digital-ads$ digital-ads.html [L]
RewriteRule ^faq-igshop$ faq-igshop.html [L]
RewriteRule ^faq-webdev$ faq-webdev.html [L]
RewriteRule ^instagram-shopping-activate$ instagram-shopping-activate.html [L]
RewriteRule ^social-media-management$ social-media-management.html [L]
RewriteRule ^team$ team.html [L]
RewriteRule ^visual-design$ visual-design.html [L]
RewriteRule ^website-development$ website-development.html [L]
RewriteRule ^work$ work.html [L]

# ============================================
# 301 REDIRECTS - Missing Template Files
# ============================================

# Redirect homepage variants to index.html
RedirectMatch 301 ^/home-2\.html$ /index.html
RedirectMatch 301 ^/home-3\.html$ /index.html
RedirectMatch 301 ^/home-4\.html$ /index.html
RedirectMatch 301 ^/home-5\.html$ /index.html
RedirectMatch 301 ^/home-6\.html$ /index.html
RedirectMatch 301 ^/home-7\.html$ /index.html
RedirectMatch 301 ^/home-8\.html$ /index.html

# Redirect service overview to index.html
RedirectMatch 301 ^/service\.html$ /index.html#OurServices

# Redirect service variants to index.html
RedirectMatch 301 ^/service-2\.html$ /index.html#OurServices
RedirectMatch 301 ^/service-3\.html$ /index.html#OurServices

# Redirect service-details to index.html
RedirectMatch 301 ^/service-details\.html$ /index.html

# Redirect project overview to work.html
RedirectMatch 301 ^/project\.html$ /work.html

# Redirect project variants to work.html
RedirectMatch 301 ^/project-2\.html$ /work.html
RedirectMatch 301 ^/project-3\.html$ /work.html
RedirectMatch 301 ^/project-4\.html$ /work.html
RedirectMatch 301 ^/project-5\.html$ /work.html
RedirectMatch 301 ^/project-6\.html$ /work.html

# Redirect team-details to team.html
RedirectMatch 301 ^/team-details\.html$ /team.html

# Redirect old form links to consultation page
RedirectMatch 301 ^/partnership-with-us/?$ /konsultasi.html
RedirectMatch 301 ^/form\.samakreatif\.com(.*)$ /konsultasi.html$1

# Fallback for undefined pages
RewriteRule ^([a-zA-Z0-9-/+][~`\%;a\%a-zA-Z']+)$ page.html?p=oops [NC,L]
